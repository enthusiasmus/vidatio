#catalog.wrapper-content(ng-controller="CatalogCtrl")
    .row
        #filter.col-xs-12.col-sm-12.col-md-3.col-lg-3
            #time-filter
                label(for="from-filter") {{ "FILTER.BY_TIME" | translate }}
                input#from-filter.form-control.input-sm(date-time ng-model="filter.dates.from" placeholder="{{ 'FROM' | translate }}" format="DD.MM.YYYY" min-view="date" max-date="maxDate")
                span.to  -
                input.form-control.input-sm(date-time ng-model="filter.dates.to" placeholder="{{ 'TO' | translate }}" format="DD.MM.YYYY" min-view="date" max-date="maxDate")
            #category-filter
                label {{ "FILTER.BY_CATEGORY" | translate }}
                .btn-group
                    button.btn.btn-default.dropdown-toggle(type="button" data-toggle="dropdown") {{ filter.category }}
                        span.caret
                    ul.dropdown-menu(role="menu")
                        li
                            a(href="#" ng-click="setCategory()") Filter aufheben
                        li(ng-repeat="category in categories")
                            a(href="#" ng-click="setCategory(category.name)") {{ category.name }}

            #tags-filter
                label(for="tags") {{ "FILTER.BY_TAGS" | translate }}
                input#tags.form-control.multiselect(select2 multiple ng-model="filter.tags" tags-data="tags" ng-list="," ng-change="setStateParams()")

            #my-vidatio-filter(ng-show="globals.authorized")
                label.checkbox(for="my-vidatio-checkbox")
                    h2 {{ "MY_VIDATIOS" | translate }}
                    input#my-vidatio-checkbox.custom-checkbox(data-toggle="checkbox", type="checkbox", ng-model="filter.showMyVidatios" ng-click="setStateParams()")

        .vidatios.col-xs-12.col-sm-12.col-md-9.col-lg-9(ng-show="vidatios.length")
            .row
                .col-xs-6.col-sm-6.col-md-4.col-lg-4(
                    ng-repeat="vidatio in vidatios | dateFilter: filter.dates.from : filter.dates.to | categoryFilter : filter.category| tagsFilter: filter.tags | myVidatioFilter : filter.showMyVidatios"
                )
                    .vidatio
                        a.img(ui-sref="app.dataset({ id: vidatio._id, locale: locale })")
                            img(src="{{ vidatio.image }}")

                        a#create-vidatio.btn.btn-primary.icon-edit(ui-sref="app.editor.id({ id: vidatio._id, locale: locale })")
                            span {{ "CREATE_VIDATIO" | translate | uppercase }}

                        .text
                            a.inverse(ui-sref="app.dataset({ id: vidatio._id, locale: locale })")
                                h4.title {{ vidatio.title }}
                            p {{ vidatio.description | limitTo: 120}} ...
                            p {{ "CATEGORY" | translate }}: {{ vidatio.metaData.category.name }}
                            p {{ "DATASET_TAGS" | translate }}: {{ vidatio.metaData.tags | preprocessTags }}
                            p {{ "DATE" | translate }}: {{ vidatio.createdAt | date: "dd.MM.yyyy" }}
