#visualization.wrapper-content(ng-controller="VisualizationCtrl" ng-show="$root.showVisualizationView" ng-class="{'col-md-6': $parent.activeViews === 2, 'col-md-12': $parent.activeViews === 1}")
    .content.height-500
        .settings-bar
            .axis-selection(ng-if="meta.fileType != 'shp'")
                p(ng-if="visualization.type != 'map'") {{ "X_AXIS" | translate }}
                p(ng-if="visualization.type == 'map'") {{ "LONGITUDE" | translate }}
                .btn-group
                    button.btn.btn-default.dropdown-toggle(type="button" data-toggle="dropdown") {{ header[visualization.xColumn] || "HEADER_DEFAULT" | translate }}
                        span.caret
                    ul.dropdown-menu(role="menu")
                        li(ng-repeat="(id, column) in header track by $index" ng-if="column != null")
                            a(href="#" ng-click="setAxisColumnSelection('x', id)") {{ column }}

                p(ng-if="visualization.type != 'map'") {{ "Y_AXIS" | translate }}
                p(ng-if="visualization.type == 'map'") {{ "LATITUDE" | translate }}
                .btn-group
                    button.btn.btn-default.dropdown-toggle(type="button" data-toggle="dropdown") {{ header[visualization.yColumn] || "HEADER_DEFAULT" | translate }}
                        span.caret
                    ul.dropdown-menu(role="menu")
                        li(ng-repeat="(id, column) in header track by $index" ng-if="column != null")
                            a(href="#" ng-click="setAxisColumnSelection('y', id)") {{ column }}

            .diagram-selection(ng-hide="meta.fileType == 'shp'")
                .btn-group
                    button.btn.btn-default.dropdown-toggle(type="button" data-toggle="dropdown") {{ visualization.selectedDiagramName || "DIAGRAMS.DIAGRAM_TYPE" | translate }}
                        span.caret
                    ul.dropdown-menu(role="menu")
                        li.trigger-recommender
                            a(href='#' ng-click="recommend()")
                                .icon-magicwand.selection-icons(ng-hide="meta.fileType == 'shp'")
                                .selection-text {{ "DIAGRAMS.RECOMMEND" | translate }}
                        li
                            a(href="#" ng-click="selectDiagram('scatter')")
                                .icon-scatterplotchart.selection-icons
                                .selection-text {{ "DIAGRAMS.SCATTER_PLOT" | translate }}
                        li
                            a(href="#" ng-click="selectDiagram('map')")
                                .icon-map.selection-icons
                                .selection-text {{ "DIAGRAMS.MAP" | translate }}
                        li
                            a(href="#" ng-click="selectDiagram('parallel')")
                                .icon-parallelcoordinateschart.selection-icons
                                .selection-text {{ "DIAGRAMS.PARALLEL_COORDINATES" | translate }}
                        li
                            a(href="#" ng-click="selectDiagram('bar')")
                                .icon-barchart.selection-icons
                                .selection-text {{ "DIAGRAMS.BAR_CHART" | translate }}
                        li
                            a(href="#" ng-click="selectDiagram('timeseries')")
                                .icon-linechart.selection-icons
                                .selection-text {{ "DIAGRAMS.TIME_SERIES" | translate }}

            .color-selection.hover-button(ng-hide="visualization.type == 'map'")
                a.icon-colorbucket(colorpicker="hex" colorpicker-position="bottom" ng-model="visualization.color" colorpicker-with-input="true")

            .download-button.hover-button
                a(href='#').icon-download.download-icon
                ul
                    li
                        a(ng-click='shareVisualization("png")') PNG
                    li
                        a(ng-click='shareVisualization("jpg")') JPG

        leaflet(geojson="geojson" id="map" ng-show="visualization.type == 'map'")
        #chart(ng-hide="visualization.type == 'map' || visualization.type == false")

        #chart-placeholder(ng-hide="visualization.type")
            img(src="images/logo-without-name.png" )
