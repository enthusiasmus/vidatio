<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for app/catalog/controller.coffee</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">app/catalog/</a> controller.coffee
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">10.34% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>3/29</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/6</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">10.34% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>3/29</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";
var app;
&nbsp;
app = angular.module("app.controllers");
&nbsp;
app.controller("CatalogCtrl", [
  "$scope", "CatalogFactory", "$log", "$translate", "ngToast", <span class="fstat-no" title="function not covered" >function($scope, CatalogFactory, $log, $translate, ngToast) {</span>
<span class="cstat-no" title="statement not covered" >    $scope.filter = {</span>
      dates: {
        from: void 0,
        to: void 0
      },
      category: ""
    };
<span class="cstat-no" title="statement not covered" >    $scope.maxDate = moment.tz('UTC').hour(12).startOf('h');</span>
<span class="cstat-no" title="statement not covered" >    CatalogFactory.getCategories().query(<span class="fstat-no" title="function not covered" >function(response) {</span></span>
<span class="cstat-no" title="statement not covered" >      $log.info("CatalogCtrl successfully queried categories");</span>
<span class="cstat-no" title="statement not covered" >      return $scope.categories = response;</span>
    });
<span class="cstat-no" title="statement not covered" >    CatalogFactory.getDatasets().query(<span class="fstat-no" title="function not covered" >function(response) {</span></span>
<span class="cstat-no" title="statement not covered" >      var index, vidatio, _i, _len, _ref, _results;</span>
<span class="cstat-no" title="statement not covered" >      $log.info("CatalogCtrl successfully queried datasets");</span>
<span class="cstat-no" title="statement not covered" >      $scope.vidatios = response;</span>
<span class="cstat-no" title="statement not covered" >      _ref = $scope.vidatios;</span>
<span class="cstat-no" title="statement not covered" >      _results = [];</span>
<span class="cstat-no" title="statement not covered" >      for (index = _i = 0, _len = _ref.length; _i &lt; _len; index = ++_i) {</span>
<span class="cstat-no" title="statement not covered" >        vidatio = _ref[index];</span>
<span class="cstat-no" title="statement not covered" >        vidatio.description = "Hello world, this is a test!";</span>
<span class="cstat-no" title="statement not covered" >        vidatio.title = vidatio.name;</span>
<span class="cstat-no" title="statement not covered" >        vidatio.image = "images/placeholder-featured-vidatios-arbeitslosenzahlen-salzburg.svg";</span>
<span class="cstat-no" title="statement not covered" >        _results.push(vidatio.createdAt = new Date(vidatio.createdAt));</span>
      }
<span class="cstat-no" title="statement not covered" >      return _results;</span>
    }, <span class="fstat-no" title="function not covered" >function(error) {</span>
<span class="cstat-no" title="statement not covered" >      $log.info("CatalogCtrl error on query datasets");</span>
<span class="cstat-no" title="statement not covered" >      $log.error(error);</span>
<span class="cstat-no" title="statement not covered" >      return $translate('TOAST_MESSAGES.VIDATIOS_COULD_NOT_BE_LOADED').then(<span class="fstat-no" title="function not covered" >function(translation) {</span></span>
<span class="cstat-no" title="statement not covered" >        return ngToast.create({</span>
          content: translation,
          className: "danger"
        });
      });
    });
<span class="cstat-no" title="statement not covered" >    return $scope.setCategory = <span class="fstat-no" title="function not covered" >function(category) {</span></span>
<span class="cstat-no" title="statement not covered" >      vidatio.log.info("CatalogCtrl setCategory called");</span>
<span class="cstat-no" title="statement not covered" >      vidatio.log.debug({</span>
        category: category
      });
<span class="cstat-no" title="statement not covered" >      return $scope.filter.category = category;</span>
    };
  }
]);
&nbsp;
//@ sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNvbnRyb2xsZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQUEsQ0FBQTtBQUFBLElBQUEsR0FBQTs7QUFBQSxHQUVBLEdBQU0sT0FBTyxDQUFDLE1BQVIsQ0FBZSxpQkFBZixDQUZOLENBQUE7O0FBQUEsR0FJRyxDQUFDLFVBQUosQ0FBZSxhQUFmLEVBQThCO0VBQzFCLFFBRDBCLEVBRTFCLGdCQUYwQixFQUcxQixNQUgwQixFQUkxQixZQUowQixFQUsxQixTQUwwQixFQU0xQixTQUFDLE1BQUQsRUFBUyxjQUFULEVBQXlCLElBQXpCLEVBQStCLFVBQS9CLEVBQTJDLE9BQTNDLEdBQUE7QUFFSSxJQUFBLE1BQU0sQ0FBQyxNQUFQLEdBQ0k7QUFBQSxNQUFBLEtBQUEsRUFDSTtBQUFBLFFBQUEsSUFBQSxFQUFNLE1BQU47QUFBQSxRQUNBLEVBQUEsRUFBSSxNQURKO09BREo7QUFBQSxNQUdBLFFBQUEsRUFBVSxFQUhWO0tBREosQ0FBQTtBQUFBLElBTUEsTUFBTSxDQUFDLE9BQVAsR0FBaUIsTUFBTSxDQUFDLEVBQVAsQ0FBVSxLQUFWLENBQWdCLENBQUMsSUFBakIsQ0FBc0IsRUFBdEIsQ0FBeUIsQ0FBQyxPQUExQixDQUFrQyxHQUFsQyxDQU5qQixDQUFBO0FBQUEsSUFRQSxjQUFjLENBQUMsYUFBZixDQUFBLENBQThCLENBQUMsS0FBL0IsQ0FBcUMsU0FBQyxRQUFELEdBQUE7QUFDakMsTUFBQSxJQUFJLENBQUMsSUFBTCxDQUFVLDZDQUFWLENBQUEsQ0FBQTthQUNBLE1BQU0sQ0FBQyxVQUFQLEdBQW9CLFNBRmE7SUFBQSxDQUFyQyxDQVJBLENBQUE7QUFBQSxJQVlBLGNBQWMsQ0FBQyxXQUFmLENBQUEsQ0FBNEIsQ0FBQyxLQUE3QixDQUFtQyxTQUFDLFFBQUQsR0FBQTtBQUMvQixVQUFBLHdDQUFBO0FBQUEsTUFBQSxJQUFJLENBQUMsSUFBTCxDQUFVLDJDQUFWLENBQUEsQ0FBQTtBQUFBLE1BRUEsTUFBTSxDQUFDLFFBQVAsR0FBa0IsUUFGbEIsQ0FBQTtBQUlBO0FBQUE7V0FBQSwyREFBQTs4QkFBQTtBQUNJLFFBQUEsT0FBTyxDQUFDLFdBQVIsR0FBc0IsOEJBQXRCLENBQUE7QUFBQSxRQUNBLE9BQU8sQ0FBQyxLQUFSLEdBQWdCLE9BQU8sQ0FBQyxJQUR4QixDQUFBO0FBQUEsUUFFQSxPQUFPLENBQUMsS0FBUixHQUFnQixzRUFGaEIsQ0FBQTtBQUFBLHNCQUdBLE9BQU8sQ0FBQyxTQUFSLEdBQXdCLElBQUEsSUFBQSxDQUFLLE9BQU8sQ0FBQyxTQUFiLEVBSHhCLENBREo7QUFBQTtzQkFMK0I7SUFBQSxDQUFuQyxFQVdFLFNBQUMsS0FBRCxHQUFBO0FBQ0UsTUFBQSxJQUFJLENBQUMsSUFBTCxDQUFVLHFDQUFWLENBQUEsQ0FBQTtBQUFBLE1BQ0EsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFYLENBREEsQ0FBQTthQUdBLFVBQUEsQ0FBVyw2Q0FBWCxDQUF5RCxDQUFDLElBQTFELENBQStELFNBQUMsV0FBRCxHQUFBO2VBQzNELE9BQU8sQ0FBQyxNQUFSLENBQ0k7QUFBQSxVQUFBLE9BQUEsRUFBUyxXQUFUO0FBQUEsVUFDQSxTQUFBLEVBQVcsUUFEWDtTQURKLEVBRDJEO01BQUEsQ0FBL0QsRUFKRjtJQUFBLENBWEYsQ0FaQSxDQUFBO1dBZ0NBLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLFNBQUMsUUFBRCxHQUFBO0FBQ2pCLE1BQUEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFaLENBQWlCLGdDQUFqQixDQUFBLENBQUE7QUFBQSxNQUNBLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBWixDQUNJO0FBQUEsUUFBQSxRQUFBLEVBQVUsUUFBVjtPQURKLENBREEsQ0FBQTthQUdBLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBZCxHQUF5QixTQUpSO0lBQUEsRUFsQ3pCO0VBQUEsQ0FOMEI7Q0FBOUIsQ0FKQSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcblxuYXBwID0gYW5ndWxhci5tb2R1bGUgXCJhcHAuY29udHJvbGxlcnNcIlxuXG5hcHAuY29udHJvbGxlciBcIkNhdGFsb2dDdHJsXCIsIFtcbiAgICBcIiRzY29wZVwiXG4gICAgXCJDYXRhbG9nRmFjdG9yeVwiXG4gICAgXCIkbG9nXCJcbiAgICBcIiR0cmFuc2xhdGVcIlxuICAgIFwibmdUb2FzdFwiXG4gICAgKCRzY29wZSwgQ2F0YWxvZ0ZhY3RvcnksICRsb2csICR0cmFuc2xhdGUsIG5nVG9hc3QpIC0+XG5cbiAgICAgICAgJHNjb3BlLmZpbHRlciA9XG4gICAgICAgICAgICBkYXRlczpcbiAgICAgICAgICAgICAgICBmcm9tOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB0bzogdW5kZWZpbmVkXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJcIlxuXG4gICAgICAgICRzY29wZS5tYXhEYXRlID0gbW9tZW50LnR6KCdVVEMnKS5ob3VyKDEyKS5zdGFydE9mKCdoJylcblxuICAgICAgICBDYXRhbG9nRmFjdG9yeS5nZXRDYXRlZ29yaWVzKCkucXVlcnkgKHJlc3BvbnNlKSAtPlxuICAgICAgICAgICAgJGxvZy5pbmZvIFwiQ2F0YWxvZ0N0cmwgc3VjY2Vzc2Z1bGx5IHF1ZXJpZWQgY2F0ZWdvcmllc1wiXG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IHJlc3BvbnNlXG5cbiAgICAgICAgQ2F0YWxvZ0ZhY3RvcnkuZ2V0RGF0YXNldHMoKS5xdWVyeSAocmVzcG9uc2UpIC0+XG4gICAgICAgICAgICAkbG9nLmluZm8gXCJDYXRhbG9nQ3RybCBzdWNjZXNzZnVsbHkgcXVlcmllZCBkYXRhc2V0c1wiXG5cbiAgICAgICAgICAgICRzY29wZS52aWRhdGlvcyA9IHJlc3BvbnNlXG5cbiAgICAgICAgICAgIGZvciB2aWRhdGlvLCBpbmRleCBpbiAkc2NvcGUudmlkYXRpb3NcbiAgICAgICAgICAgICAgICB2aWRhdGlvLmRlc2NyaXB0aW9uID0gXCJIZWxsbyB3b3JsZCwgdGhpcyBpcyBhIHRlc3QhXCJcbiAgICAgICAgICAgICAgICB2aWRhdGlvLnRpdGxlID0gdmlkYXRpby5uYW1lXG4gICAgICAgICAgICAgICAgdmlkYXRpby5pbWFnZSA9IFwiaW1hZ2VzL3BsYWNlaG9sZGVyLWZlYXR1cmVkLXZpZGF0aW9zLWFyYmVpdHNsb3NlbnphaGxlbi1zYWx6YnVyZy5zdmdcIlxuICAgICAgICAgICAgICAgIHZpZGF0aW8uY3JlYXRlZEF0ID0gbmV3IERhdGUodmlkYXRpby5jcmVhdGVkQXQpXG5cbiAgICAgICAgLCAoZXJyb3IpIC0+XG4gICAgICAgICAgICAkbG9nLmluZm8gXCJDYXRhbG9nQ3RybCBlcnJvciBvbiBxdWVyeSBkYXRhc2V0c1wiXG4gICAgICAgICAgICAkbG9nLmVycm9yIGVycm9yXG5cbiAgICAgICAgICAgICR0cmFuc2xhdGUoJ1RPQVNUX01FU1NBR0VTLlZJREFUSU9TX0NPVUxEX05PVF9CRV9MT0FERUQnKS50aGVuICh0cmFuc2xhdGlvbikgLT5cbiAgICAgICAgICAgICAgICBuZ1RvYXN0LmNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB0cmFuc2xhdGlvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZGFuZ2VyXCJcblxuICAgICAgICAkc2NvcGUuc2V0Q2F0ZWdvcnkgPSAoY2F0ZWdvcnkpIC0+XG4gICAgICAgICAgICB2aWRhdGlvLmxvZy5pbmZvIFwiQ2F0YWxvZ0N0cmwgc2V0Q2F0ZWdvcnkgY2FsbGVkXCJcbiAgICAgICAgICAgIHZpZGF0aW8ubG9nLmRlYnVnXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5XG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyLmNhdGVnb3J5ID0gY2F0ZWdvcnlcblxuXVxuIl19
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Mar 09 2016 20:47:47 GMT+0100 (CET)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
